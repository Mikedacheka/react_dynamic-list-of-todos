{"version":3,"sources":["components/TodoList/TodoList.tsx","api/todos.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","handleSelectByStatus","todoStatus","query","todos","getSelectedUser","queryHandler","className","htmlFor","value","onChange","type","placeholder","map","todo","classNames","completed","readOnly","checked","title","onClick","userId","id","API_URL","getAllTodos","a","fetch","response","json","getSelectedUserDetails","editedUrl","selectedUserDetails","CurrentUser","state","user","this","props","selectedUserId","setState","prevProps","loadUser","name","email","phone","clearSelectedUser","React","Component","App","event","target","todosAPI","copyTodos","filter","toLowerCase","includes","filterTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79def5c5.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ntype Props = {\n  handleSelectByStatus: (event: React.ChangeEvent<HTMLSelectElement>) => void,\n  todoStatus: string,\n  queryHandler: (event: React.ChangeEvent<HTMLInputElement>) => void,\n  query: string,\n  getSelectedUser: (selectedUserId: number) => void,\n  todos: Todo[],\n};\n\nexport const TodoList: React.FC<Props> = ({\n  handleSelectByStatus,\n  todoStatus,\n  query,\n  todos,\n  getSelectedUser,\n  queryHandler,\n}) => (\n  <div className=\"TodoList\">\n    <label htmlFor=\"selectTodosByStatus\">\n      Choose an status of todo:\n      <select\n        value={todoStatus}\n        onChange={handleSelectByStatus}\n      >\n        <option value=\"all\">All</option>\n        <option value=\"finished\">Finished</option>\n        <option value=\"unfinished\">Unfinished</option>\n      </select>\n    </label>\n    <input\n      type=\"text\"\n      placeholder=\"search\"\n      value={query}\n      onChange={queryHandler}\n    />\n    <h2>Todos:</h2>\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n\n        {todos.map((todo) => (\n          <li\n            key={todo.id}\n            className={classNames(\n              'TodoList__item',\n              { 'TodoList__item--checked': todo.completed },\n              { 'TodoList__item--unchecked': !todo.completed },\n            )}\n          >\n            <label htmlFor=\"todo\">\n              <input\n                type=\"checkbox\"\n                readOnly\n                checked={todo.completed}\n              />\n              <p>{todo.title}</p>\n            </label>\n            <button\n              className=\"\n                TodoList__user-button\n                TodoList__user-button--selected\n                button\n              \"\n              type=\"button\"\n              onClick={() => {\n                getSelectedUser(todo.userId);\n              }}\n            >\n              User&nbsp;\n              {todo.userId}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n","// eslint-disable-next-line\nconst API_URL = `https://mate.academy/students-api/todos`;\n\nexport async function getAllTodos() {\n  const response = await fetch(API_URL);\n  const todos = await response.json();\n\n  return todos;\n}\n\nexport async function getSelectedUserDetails(userId: number) {\n  const editedUrl = `https://mate.academy/students-api/users/${userId}`;\n  const response = await fetch(editedUrl);\n  const selectedUserDetails = await response.json();\n\n  return selectedUserDetails;\n}\n","import React from 'react';\nimport './CurrentUser.scss';\n\nimport { getSelectedUserDetails } from '../../api/todos';\n\ntype Props = {\n  selectedUserId: number,\n  clearSelectedUser: () => void,\n};\n\ntype State = {\n  user: User | null,\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  async componentDidMount() {\n    const user = await getSelectedUserDetails(this.props.selectedUserId);\n\n    this.setState({ user });\n  }\n\n  async componentDidUpdate(prevProps: Props) {\n    if (prevProps.selectedUserId !== this.props.selectedUserId) {\n      this.loadUser();\n    }\n  }\n\n  async loadUser() {\n    const user = await getSelectedUserDetails(this.props.selectedUserId);\n\n    this.setState({ user });\n  }\n\n  render(): React.ReactNode {\n    const { user } = this.state;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            {'Selected user: '}\n            {this.props.selectedUserId}\n          </span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">{user?.name}</h3>\n        <p className=\"CurrentUser__email\">{user?.email}</p>\n        <p className=\"CurrentUser__phone\">{user?.phone}</p>\n        <button\n          type=\"button\"\n          className=\"TodoList__user-button TodoList__user-button--selected\n          button\"\n          onClick={() => (\n            this.props.clearSelectedUser()\n          )}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport * as todosAPI from './api/todos';\n\ninterface State {\n  query: string,\n  todos: Todo[],\n  selectedUserId: number;\n  todoStatus: string,\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    query: '',\n    todos: [],\n    selectedUserId: 0,\n    todoStatus: 'all',\n  };\n\n  componentDidMount() {\n    this.getAllTodos();\n  }\n\n  handleSelectByStatus = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = event.target;\n\n    this.setState({\n      todoStatus: value,\n    });\n  };\n\n  getAllTodos = async () => {\n    const todos = await todosAPI.getAllTodos();\n\n    this.setState({ todos });\n  };\n\n  getSelectedUser = (selectedUserId: number) => {\n    this.setState({ selectedUserId });\n  };\n\n  clearSelectedUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  queryHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    this.setState({\n      query: value,\n    });\n  };\n\n  filterTodos() {\n    const { todos, query, todoStatus } = this.state;\n    const copyTodos = [...todos].filter((todo) => (\n      todo.title.toLowerCase().includes(query.toLowerCase())\n    ));\n\n    switch (todoStatus) {\n      case 'all': {\n        return copyTodos;\n      }\n\n      case 'finished': {\n        return copyTodos.filter(todo => todo.completed === true);\n      }\n\n      case 'unfinished': {\n        return copyTodos.filter(todo => todo.completed === false);\n      }\n\n      default: {\n        return copyTodos;\n      }\n    }\n\n    return todos;\n  }\n\n  render() {\n    const { selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            handleSelectByStatus={this.handleSelectByStatus}\n            todoStatus={this.state.todoStatus}\n            query={this.state.query}\n            todos={this.filterTodos()}\n            getSelectedUser={this.getSelectedUser}\n            queryHandler={this.queryHandler}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                clearSelectedUser={this.clearSelectedUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}